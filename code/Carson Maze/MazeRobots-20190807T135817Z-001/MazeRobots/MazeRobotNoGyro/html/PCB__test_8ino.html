<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Maze Robot No Gyro: PCB_test/PCB_test/PCB_test.ino File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Maze Robot No Gyro
   </div>
   <div id="projectbrief">The arduino code for the micromouse maze solving robot without a gyroscope</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_1d59bceb820eaf89cca7492854f7e9ae.html">PCB_test</a></li><li class="navelem"><a class="el" href="dir_05e79ab67fc8fb1951d3d0b66d03f09e.html">PCB_test</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">PCB_test.ino File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The main file for the project.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="TB6612FNG_8h_source.html">TB6612FNG.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="drive_8h_source.html">drive.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="IR_8h_source.html">IR.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="graph_8h_source.html">graph.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for PCB_test.ino:</div>
<div class="dyncontent">
<div class="center"><img src="PCB__test_8ino__incl.png" border="0" usemap="#PCB__test_2PCB__test_2PCB__test_8ino" alt=""/></div>
<map name="PCB__test_2PCB__test_2PCB__test_8ino" id="PCB__test_2PCB__test_2PCB__test_8ino">
<area shape="rect" id="node2" href="TB6612FNG_8h.html" title="Contains a low&#45;level control interface for the motor driver chip. " alt="" coords="5,169,112,196"/>
<area shape="rect" id="node3" href="drive_8h.html" title="Contains mid&#45;level drive commands for the robot, such as driving forward and turning. " alt="" coords="96,95,157,121"/>
<area shape="rect" id="node6" href="IR_8h.html" title="Contains the IRSensor class, for making IR sensor use easier. " alt="" coords="182,95,229,121"/>
<area shape="rect" id="node7" href="graph_8h.html" title="Contains the structure of the maze and functions to alter the robot&#39;s relation to the grid..." alt="" coords="253,95,318,121"/>
<area shape="rect" id="node5" href="util_8h.html" title="Contains a variety of miscellaneous math functions to allow for cleaner code. " alt="" coords="251,169,301,196"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab7aece27431c153f5407864297b7c32b"><td class="memItemLeft" align="right" valign="top"><a id="ab7aece27431c153f5407864297b7c32b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>driveIRAdjust</b> (double spd)</td></tr>
<tr class="separator:ab7aece27431c153f5407864297b7c32b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56dfd95fece10fad4869ceb37cfe035d"><td class="memItemLeft" align="right" valign="top"><a id="a56dfd95fece10fad4869ceb37cfe035d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>driveDistance</b> (double mm)</td></tr>
<tr class="separator:a56dfd95fece10fad4869ceb37cfe035d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe60ad2fecd7fb38997addbd92d88c68"><td class="memItemLeft" align="right" valign="top"><a id="abe60ad2fecd7fb38997addbd92d88c68"></a>
<a class="el" href="util_8h.html#a92e22a126ad6bf9d255b517e70d083f6">Direction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PCB__test_8ino.html#abe60ad2fecd7fb38997addbd92d88c68">nextMove</a> ()</td></tr>
<tr class="memdesc:abe60ad2fecd7fb38997addbd92d88c68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the next direction to be traveled in based on th Tr√©maux algorithm. s. <br /></td></tr>
<tr class="separator:abe60ad2fecd7fb38997addbd92d88c68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc9fd4d649a1719e3e8f25cf3fd22857"><td class="memItemLeft" align="right" valign="top"><a class="el" href="util_8h.html#a92e22a126ad6bf9d255b517e70d083f6">Direction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PCB__test_8ino.html#abc9fd4d649a1719e3e8f25cf3fd22857">exploreEdge</a> (long lStart, long rStart, bool needAcceleration)</td></tr>
<tr class="memdesc:abc9fd4d649a1719e3e8f25cf3fd22857"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves the robot into the next cell, updates the cell, and readies the robot for its next action.  <a href="#abc9fd4d649a1719e3e8f25cf3fd22857">More...</a><br /></td></tr>
<tr class="separator:abc9fd4d649a1719e3e8f25cf3fd22857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9d79fb25b7ad31450ea631b61f1883e"><td class="memItemLeft" align="right" valign="top"><a id="ad9d79fb25b7ad31450ea631b61f1883e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PCB__test_8ino.html#ad9d79fb25b7ad31450ea631b61f1883e">waitForPower</a> ()</td></tr>
<tr class="memdesc:ad9d79fb25b7ad31450ea631b61f1883e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the robot's movement and waits for the motor driver to be powered. <br /></td></tr>
<tr class="separator:ad9d79fb25b7ad31450ea631b61f1883e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc01d736fe50cf5b977f755b675f11d"><td class="memItemLeft" align="right" valign="top"><a id="a4fc01d736fe50cf5b977f755b675f11d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setup</b> ()</td></tr>
<tr class="separator:a4fc01d736fe50cf5b977f755b675f11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25f18de883c5d893238db0b25fb9f471"><td class="memItemLeft" align="right" valign="top"><a id="a25f18de883c5d893238db0b25fb9f471"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>updateCell</b> ()</td></tr>
<tr class="separator:a25f18de883c5d893238db0b25fb9f471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f32d7057151c1c7f0f16a945a27af1e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PCB__test_8ino.html#a1f32d7057151c1c7f0f16a945a27af1e">countConsecutiveTurns</a> (<a class="el" href="util_8h.html#a92e22a126ad6bf9d255b517e70d083f6">Direction</a> nextDir)</td></tr>
<tr class="separator:a1f32d7057151c1c7f0f16a945a27af1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe461d27b9c48d5921c00d521181f12f"><td class="memItemLeft" align="right" valign="top"><a id="afe461d27b9c48d5921c00d521181f12f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>loop</b> ()</td></tr>
<tr class="separator:afe461d27b9c48d5921c00d521181f12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1e70493ed842f246d8063b125681035b"><td class="memItemLeft" align="right" valign="top"><a id="a1e70493ed842f246d8063b125681035b"></a>
const double&#160;</td><td class="memItemRight" valign="bottom"><b>base_speed</b> = 0.1</td></tr>
<tr class="separator:a1e70493ed842f246d8063b125681035b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae30d704126646e0796e7ae5bf81cf672"><td class="memItemLeft" align="right" valign="top"><a id="ae30d704126646e0796e7ae5bf81cf672"></a>
const double&#160;</td><td class="memItemRight" valign="bottom"><b>bonus_speed</b> = 0.25</td></tr>
<tr class="separator:ae30d704126646e0796e7ae5bf81cf672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3890cece9117b131b8bcb75369f4dfee"><td class="memItemLeft" align="right" valign="top"><a id="a3890cece9117b131b8bcb75369f4dfee"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>returning</b> = false</td></tr>
<tr class="separator:a3890cece9117b131b8bcb75369f4dfee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a212e6b8f7e9ed2662711ad228dfc3e25"><td class="memItemLeft" align="right" valign="top"><a id="a212e6b8f7e9ed2662711ad228dfc3e25"></a>
<a class="el" href="classRobot.html">Robot</a>&#160;</td><td class="memItemRight" valign="bottom"><b>robot</b></td></tr>
<tr class="separator:a212e6b8f7e9ed2662711ad228dfc3e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c326d5209c586c6000e6759ade650b8"><td class="memItemLeft" align="right" valign="top"><a id="a8c326d5209c586c6000e6759ade650b8"></a>
<a class="el" href="classIRSensor.html">IRSensor</a>&#160;</td><td class="memItemRight" valign="bottom"><b>lSensor</b> (A0)</td></tr>
<tr class="separator:a8c326d5209c586c6000e6759ade650b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27bb774513555df6c77bc1887a8a0051"><td class="memItemLeft" align="right" valign="top"><a id="a27bb774513555df6c77bc1887a8a0051"></a>
<a class="el" href="classIRSensor.html">IRSensor</a>&#160;</td><td class="memItemRight" valign="bottom"><b>mSensor</b> (A1)</td></tr>
<tr class="separator:a27bb774513555df6c77bc1887a8a0051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44d9f15f5aeb21ba1644f0841923675e"><td class="memItemLeft" align="right" valign="top"><a id="a44d9f15f5aeb21ba1644f0841923675e"></a>
<a class="el" href="classIRSensor.html">IRSensor</a>&#160;</td><td class="memItemRight" valign="bottom"><b>rSensor</b> (A2)</td></tr>
<tr class="separator:a44d9f15f5aeb21ba1644f0841923675e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a37c2944407d91bb5c144ca389b5392"><td class="memItemLeft" align="right" valign="top"><a id="a6a37c2944407d91bb5c144ca389b5392"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>accel</b> = true</td></tr>
<tr class="separator:a6a37c2944407d91bb5c144ca389b5392"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4611dcb32e5240292b63bc6500226233"><td class="memItemLeft" align="right" valign="top"><a id="a4611dcb32e5240292b63bc6500226233"></a>
long&#160;</td><td class="memItemRight" valign="bottom"><b>lastLEnc</b> = 0</td></tr>
<tr class="separator:a4611dcb32e5240292b63bc6500226233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79d7274f3f561f55ca0682ebfc0fb9b5"><td class="memItemLeft" align="right" valign="top"><a id="a79d7274f3f561f55ca0682ebfc0fb9b5"></a>
long&#160;</td><td class="memItemRight" valign="bottom"><b>lastREnc</b> = 0</td></tr>
<tr class="separator:a79d7274f3f561f55ca0682ebfc0fb9b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cc7ff928f7c1ebb843c1e3e22217430"><td class="memItemLeft" align="right" valign="top"><a id="a9cc7ff928f7c1ebb843c1e3e22217430"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>turnCounter</b> = 0</td></tr>
<tr class="separator:a9cc7ff928f7c1ebb843c1e3e22217430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4112c2be08cb7e9d80bc795fe94aa25c"><td class="memItemLeft" align="right" valign="top"><a id="a4112c2be08cb7e9d80bc795fe94aa25c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>turnType</b> = 0</td></tr>
<tr class="separator:a4112c2be08cb7e9d80bc795fe94aa25c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The main file for the project. </p>
<p>This file contains the setup() and loop() functions, as well as a few functions related to advanced robot control and pathfinding. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1f32d7057151c1c7f0f16a945a27af1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f32d7057151c1c7f0f16a945a27af1e">&#9670;&nbsp;</a></span>countConsecutiveTurns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int countConsecutiveTurns </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="util_8h.html#a92e22a126ad6bf9d255b517e70d083f6">Direction</a>&#160;</td>
          <td class="paramname"><em>nextDir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Based on the next direction to go in and the current heading of the robot, determines what kind of turn must be taken and updates a counter.</p>
<dl class="section return"><dt>Returns</dt><dd>The number of consecutive turns in the same direction taken so far </dd></dl>

</div>
</div>
<a id="abc9fd4d649a1719e3e8f25cf3fd22857"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc9fd4d649a1719e3e8f25cf3fd22857">&#9670;&nbsp;</a></span>exploreEdge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="util_8h.html#a92e22a126ad6bf9d255b517e70d083f6">Direction</a> exploreEdge </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>lStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>rStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>needAcceleration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Moves the robot into the next cell, updates the cell, and readies the robot for its next action. </p>
<p>This function moves the robot from the center of one cell to the edge of the cell it is currently facing. It then updates the new cell and decides which direction to go next, stopping or returning once the robot reaches the center of the new cell.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lStart</td><td>The starting value of the left encoder to be measured from </td></tr>
    <tr><td class="paramname">rStart</td><td>The starting value of the right encoder to be measured from </td></tr>
    <tr><td class="paramname">needAcceleration</td><td>'true' if the function is called from a dead stop, 'false' if the function is called while the robot is already moving. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The new direction for the robot to travel in as determined by the pathfinding algorithm. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
